(this.webpackJsonpreviewhotels=this.webpackJsonpreviewhotels||[]).push([[0],{30:function(e,n,t){e.exports=t(42)},42:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(22),c=t.n(o),i=t(14),l=t(1),u=t(2),s=t(10),d=t(3),f=t.n(d),p=t(9),b=t(7);var h={fetchData:function(e){var n,t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.awrap(fetch(e));case 3:return n=a.sent,a.next=6,f.a.awrap(n.json());case 6:if(!(t=a.sent)){a.next=11;break}return a.next=10,f.a.awrap({data:t,error:!1});case 10:return a.abrupt("return",a.sent);case 11:a.next=16;break;case 13:return a.prev=13,a.t0=a.catch(0),a.abrupt("return",{data:!1,error:a.t0.message});case 16:case"end":return a.stop()}}),null,null,[[0,13]])},postData:function(e,n){var t,a;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,f.a.awrap(fetch(e,{method:"POST",body:JSON.stringify(n)}));case 3:return t=r.sent,r.next=6,f.a.awrap(t.json());case 6:if(!(a=r.sent)){r.next=11;break}return r.next=10,f.a.awrap({data:a,error:!1});case 10:return r.abrupt("return",r.sent);case 11:r.next=16;break;case 13:return r.prev=13,r.t0=r.catch(0),r.abrupt("return",{data:!1,error:r.t0.message});case 16:case"end":return r.stop()}}),null,null,[[0,13]])}},v=r.a.createContext(),g={hotels:[],hotel:{},loading:!0,error:""},m=function(e,n){switch(n.type){case"GET_HOTELS_SUCCESS":return Object(b.a)({},e,{hotels:n.payload,loading:!1});case"GET_HOTELS_ERROR":return Object(b.a)({},e,{hotels:[],loading:!1,error:n.payload});case"GET_HOTEL_SUCCESS":return Object(b.a)({},e,{hotel:n.payload,loading:!1});case"GET_HOTEL_ERROR":return Object(b.a)({},e,{hotel:{},loading:!1,error:n.payload});default:return e}},E=function(e){var n=e.children,t=r.a.useReducer(m,g),a=Object(p.a)(t,2),o=a[0],c=a[1];return r.a.createElement(v.Provider,{value:Object(b.a)({},o,{getHotelsRequest:function(){var e;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(h.fetchData("https://my-json-server.typicode.com/pranayfpackt/-React-Projects/hotels"));case 2:(e=n.sent).data&&e.data.length?c({type:"GET_HOTELS_SUCCESS",payload:e.data}):c({type:"GET_HOTELS_ERROR",payload:e.error});case 4:case"end":return n.stop()}}))},getHotelRequest:function(e){var n;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(h.fetchData("https://my-json-server.typicode.com/pranayfpackt/-React-Projects/hotels/".concat(e)));case 2:(n=t.sent).data&&n.data.hasOwnProperty("id")?c({type:"GET_HOTEL_SUCCESS",payload:n.data}):c({type:"GET_HOTEL_ERROR",payload:n.error});case 4:case"end":return t.stop()}}))}})},n)},y=t(27),w=r.a.createContext(),x={reviews:[],loading:!0,error:""},O=function(e,n){switch(n.type){case"GET_REVIEWS_SUCCESS":return Object(b.a)({},e,{reviews:n.payload,loading:!1});case"GET_REVIEWS_ERROR":return Object(b.a)({},e,{reviews:[],loading:!1,error:n.payload});case"ADD_REVIEW_SUCCESS":return console.log(n),Object(b.a)({},e,{reviews:[].concat(Object(y.a)(e.reviews),[n.payload]),loading:!1});case"ADD_REVIEW_ERROR":return Object(b.a)({},e,{loading:!1,error:"Something went wrong..."});default:return e}},j=function(e){var n=e.children,t=r.a.useReducer(O,x),a=Object(p.a)(t,2),o=a[0],c=a[1];return r.a.createElement(w.Provider,{value:Object(b.a)({},o,{getReviewsRequest:function(e){var n;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(h.fetchData("https://my-json-server.typicode.com/pranayfpackt/-React-Projects/hotels/".concat(e,"/reviews")));case 2:(n=t.sent).data&&n.data.length?c({type:"GET_REVIEWS_SUCCESS",payload:n.data}):c({type:"GET_REVIEWS_ERROR",payload:n.error});case 4:case"end":return t.stop()}}))},addReviewRequest:function(e){var n;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(h.postData("https://my-json-server.typicode.com/pranayfpackt/-React-Projects/hotels",e));case 2:(n=t.sent).data&&n.data.hasOwnProperty("id")?c({type:"ADD_REVIEW_SUCCESS",payload:e}):c({type:"ADD_REVIEW_ERROR"});case 4:case"end":return t.stop()}}))}})},n)},R=function(e){var n=e.children;return r.a.createElement(E,null,r.a.createElement(j,null,n))};function S(){var e=Object(l.a)(["\n  pointer-events: none;\n"]);return S=function(){return e},e}function k(){var e=Object(l.a)(["\n  background-color: royalBlue;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n"]);return k=function(){return e},e}var C=u.b.div(k()),_=u.b.h1(S()),T=function(e){var n=e.title,t=void 0===n?"Hotel Reviews":n;return r.a.createElement(C,null,r.a.createElement(_,null,t))},D=t(15);function G(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: transparent;\n  color: white;\n  padding: 10px;\n  line-height: 2;\n  border-radius: 5px;\n  font-weight: bold;\n  border: 4px solid white;\n  font-size: inherit;\n  cursor: pointer;\n"]);return G=function(){return e},e}var I=u.b.button(G()),W=function(e){var n=e.children,t=e.onClick,a=Object(D.a)(e,["children","onClick"]);return r.a.createElement(I,Object.assign({onClick:t},a),n)};function H(){var e=Object(l.a)(["\n  margin: 10px 5%;\n"]);return H=function(){return e},e}function L(){var e=Object(l.a)(["\n  text-align: center;\n  flex-basis: 60%;\n\n  &:first-child {\n    margin-left: 20%;\n  }\n\n  &:last-child {\n    margin-right: 20%;\n  }\n"]);return L=function(){return e},e}function U(){var e=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  background: cornflowerBlue;\n"]);return U=function(){return e},e}var A=u.b.div(U()),B=u.b.h2(L()),P=Object(u.b)(W)(H()),F=function(e){var n=e.goBack,t=e.title,a=e.openForm,o=void 0!==a&&a;return r.a.createElement(A,null,n&&r.a.createElement(P,{onClick:n},"< Go Back"),r.a.createElement(B,null,t),o&&r.a.createElement(P,{onClick:o},"+ Add Review"))};function q(){var e=Object(l.a)(["\n  border-radius: 5px;\n"]);return q=function(){return e},e}function V(){var e=Object(l.a)(["\n  margin-left: 2%;\n"]);return V=function(){return e},e}function z(){var e=Object(l.a)(["\n  display: flex;\n  text-align: left;\n  align-items: center;\n  padding: 1%;\n  background: lightGray;\n  border-radius: 5px;\n  padding: 10px;\n  margin-bottom: 2%;\n  text-decoration: none;\n"]);return z=function(){return e},e}var N=u.b.div(z()),J=u.b.h3(V()),M=u.b.img(q()),Y=function(e){var n=e.data;return r.a.createElement(N,null,r.a.createElement(M,{src:n.thumbnail,width:200}),r.a.createElement(J,null,n.title))};function $(){var e=Object(l.a)(["\n  width: 100%;\n  text-align: center;\n"]);return $=function(){return e},e}function K(){var e=Object(l.a)(["\n  color: black;\n  text-decoration: none;\n"]);return K=function(){return e},e}function Q(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  margin: 2% 5%;\n"]);return Q=function(){return e},e}var X=u.b.div(Q()),Z=Object(u.b)(i.b)(K()),ee=u.b.span($()),ne=function(e){var n=e.history,t=r.a.useContext(v),a=t.hotels,o=t.loading,c=t.error,i=t.getHotelsRequest;return r.a.useEffect((function(){i()}),[i]),o||c?r.a.createElement(ee,null,o?"Loading...":c):r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(F,{title:"Your Lists"}),r.a.createElement(X,null,a&&a.map((function(e){return r.a.createElement(Z,{key:e.id,to:"hotel/".concat(e.id)},r.a.createElement(Y,{data:e}))}))))};function te(){var e=Object(l.a)(["\n  text-align: left;\n"]);return te=function(){return e},e}function ae(){var e=Object(l.a)(["\n  font-weight: bold;\n  text-align: right;\n"]);return ae=function(){return e},e}function re(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-basis: 70%;\n"]);return re=function(){return e},e}function oe(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1%;\n  background: lightGray;\n  border-radius: 5px;\n  padding: 10px;\n  margin-bottom: 2%;\n  text-decoration: none;\n"]);return oe=function(){return e},e}var ce=u.b.div(oe()),ie=u.b.h3(re()),le=u.b.span(ae()),ue=u.b.div(te()),se=function(e){var n=e.data;return r.a.createElement(ce,null,r.a.createElement(ie,null,n.title,r.a.createElement(le,null,"Rating: ".concat(n.rating))),r.a.createElement(ue,null,n.description))};function de(){var e=Object(l.a)(["\n  width: 100%;\n  text-align: center;\n"]);return de=function(){return e},e}function fe(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  margin: 2% 5%;\n"]);return fe=function(){return e},e}var pe=u.b.div(fe()),be=u.b.span(de()),he=function(e){var n=e.match,t=e.history,a=r.a.useContext(v),o=a.hotel,c=a.getHotelRequest,i=r.a.useContext(w),l=i.loading,u=i.error,s=i.reviews,d=i.getReviewsRequest;return r.a.useEffect((function(){c(n.params.id),!s.length>0&&d(n.params.id)}),[c,d,n.params.id,s.length]),l||u?r.a.createElement(be,null,l?"Loading...":u):r.a.createElement(r.a.Fragment,null,t&&o&&r.a.createElement(F,{goBack:function(){return t.goBack()},title:o.title,openForm:function(){return t.push("".concat(n.url,"/new"))}}),r.a.createElement(pe,null,s&&s.map((function(e){return r.a.createElement(se,{key:e.id,data:e})}))))};function ve(){var e=Object(l.a)(["\n  flex-basis: 60%;\n  border: 0;\n  font-size: inherit;\n  border-radius: 5px;\n  padding: 10px;\n  border: 1px solid lightGrey;\n"]);return ve=function(){return e},e}function ge(){var e=Object(l.a)(["\n  flex-basis: 60%;\n  border: 0;\n  font-size: inherit;\n  border-radius: 5px;\n  padding: 10px;\n  border: 1px solid lightGrey;\n"]);return ge=function(){return e},e}function me(){var e=Object(l.a)(["\n  display: block;\n  font-weight: bold;\n  padding: 10px 0;\n"]);return me=function(){return e},e}function Ee(){var e=Object(l.a)(["\n  display: flex;\n  text-align: left;\n  flex-direction: column;\n  margin-bottom: 2%;\n"]);return Ee=function(){return e},e}var ye=u.b.div(Ee()),we=u.b.label(me()),xe=u.b.input(ge()),Oe=u.b.textarea(ve()),je=function(e){var n=e.id,t=e.label,a=e.type,o=void 0===a?"text":a,c=e.handleOnChange,i=Object(D.a)(e,["id","label","type","handleOnChange"]);return r.a.createElement(ye,null,r.a.createElement(we,{htmlFor:n},t),"textarea"===o?r.a.createElement(Oe,Object.assign({id:n,onChange:function(e){return c(e.target.value)}},i)):r.a.createElement(xe,Object.assign({id:n,type:o,onChange:function(e){return c(e.target.value)}},i)))};function Re(){var e=Object(l.a)(["\n  background: blue;\n  color: blue;\n  margin: 2% 0;\n"]);return Re=function(){return e},e}function Se(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  margin: 2% 5%;\n"]);return Se=function(){return e},e}var ke=u.b.div(Se()),Ce=Object(u.b)(W)(Re()),_e=function(e){var n=e.match,t=e.history,a=r.a.useContext(w).addReviewRequest,o=r.a.useState(""),c=Object(p.a)(o,2),i=c[0],l=c[1],u=r.a.useState(""),s=Object(p.a)(u,2),d=s[0],f=s[1],b=r.a.useState(""),h=Object(p.a)(b,2),v=h[0],g=h[1];return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(F,{goBack:function(){return t.goBack()},title:"Add Review"}),r.a.createElement(ke,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a({title:i,rating:d,description:v,id:Math.floor(100*Math.random()),hotelId:parseInt(n.params.id)}),t.goBack()}},r.a.createElement(je,{id:"title",label:"Title",placeholder:"Insert title",value:i,handleOnChange:l}),r.a.createElement(je,{id:"rating",label:"Rating",type:"number",placeholder:"0",max:5,value:d,handleOnChange:f}),r.a.createElement(je,{id:"description",label:"Description",type:"textarea",placeholder:"Lorem ipsum...",value:v,handleOnChange:g}),r.a.createElement(Ce,null,"Add Review"))))};function Te(){var e=Object(l.a)(["\n  text-align: center;\n"]);return Te=function(){return e},e}function De(){var e=Object(l.a)(['\n  body {\n    margin: 0;\n    padding: 0;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n      "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n']);return De=function(){return e},e}var Ge=Object(u.a)(De()),Ie=u.b.div(Te()),We=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge,null),r.a.createElement(Ie,null,r.a.createElement(T,null),r.a.createElement(R,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:ne}),r.a.createElement(s.a,{path:"/hotel/:id/new",component:_e}),r.a.createElement(s.a,{path:"/hotel/:id",component:he})))))},He=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Le(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(i.a,null,r.a.createElement(We,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/reviewIt",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/reviewIt","/service-worker.js");He?(!function(e,n){fetch(e).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Le(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Le(n,e)}))}}()}},[[30,1,2]]]);
//# sourceMappingURL=main.9c958537.chunk.js.map